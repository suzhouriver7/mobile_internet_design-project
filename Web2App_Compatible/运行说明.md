# 项目运行说明

## 快速启动步骤

### 1. 安装依赖

在项目根目录 `Web2App_Compatible` 下执行：

```bash
npm install
```

如果安装失败，可以尝试使用国内镜像：

```bash
npm install --registry=https://registry.npmmirror.com
```

### 2. 配置 API 地址

编辑 `utils/config.js`，确保 API 地址正确：

```javascript
const devConfig = {
  baseURL: 'http://localhost:8080/api/v1',  // 修改为你的后端地址
  fileBaseURL: 'http://localhost:8080',
  debug: true
}
```

**重要**：如果后端运行在不同的地址或端口，请修改这里的配置。

### 3. 准备 TabBar 图标（可选）

TabBar 需要图标文件，如果暂时没有，可以：

1. 在 `static/images/tabbar/` 目录下创建占位图片
2. 或者暂时注释掉 `pages.json` 中的 `tabBar` 配置

### 4. 运行项目

#### H5 端（浏览器）
```bash
npm run dev:h5
```

运行后会在浏览器打开 `http://localhost:5173`

#### 微信小程序
```bash
npm run dev:mp-weixin
```

运行后会在 `unpackage/dist/dev/mp-weixin` 目录生成小程序代码，用微信开发者工具打开该目录。

#### App 端
需要使用 HBuilderX 打开项目，然后运行到手机或模拟器。

## 常见问题

### 1. 依赖安装失败

**问题**：`npm install` 报错

**解决**：
- 检查 Node.js 版本（建议 16+）
- 清除缓存：`npm cache clean --force`
- 删除 `node_modules` 和 `package-lock.json`，重新安装
- 使用 yarn：`yarn install`

### 2. 运行报错：找不到模块

**问题**：`Cannot find module 'xxx'`

**解决**：
```bash
# 重新安装依赖
rm -rf node_modules package-lock.json
npm install
```

### 3. API 请求失败

**问题**：网络请求报错或 404

**解决**：
1. 检查后端服务是否启动
2. 检查 `utils/config.js` 中的 API 地址是否正确
3. 检查后端是否允许跨域（H5 端）
4. 查看浏览器控制台的错误信息

### 4. TabBar 图标不显示

**问题**：底部导航栏没有图标

**解决**：
1. 在 `static/images/tabbar/` 目录下准备图标文件：
   - `home.png` / `home-active.png`
   - `order.png` / `order-active.png`
   - `content.png` / `content-active.png`
   - `user.png` / `user-active.png`
2. 或者暂时注释 `pages.json` 中的 `tabBar` 配置

### 5. 页面空白

**问题**：打开页面显示空白

**解决**：
1. 打开浏览器控制台查看错误信息
2. 检查 `main.js` 是否正确引入
3. 检查页面路径是否正确
4. 检查 Vuex store 是否正确初始化

### 6. 登录后跳转失败

**问题**：登录成功但无法跳转

**解决**：
1. 检查 `pages.json` 中是否配置了首页路由
2. 检查 tabBar 页面路径是否正确
3. 查看控制台是否有错误信息

## 开发建议

1. **使用 HBuilderX**：如果是开发 uni-app，建议使用 HBuilderX IDE，它提供了更好的开发体验
2. **调试工具**：使用浏览器开发者工具调试 H5 端，使用微信开发者工具调试小程序
3. **热更新**：修改代码后会自动刷新，无需手动重启
4. **API 测试**：可以先在浏览器控制台测试 API 接口是否正常

## 下一步

项目运行起来后，你可以：

1. 测试登录/注册功能
2. 浏览活动列表
3. 发布活动
4. 查看动态列表
5. 完善其他页面功能

## 需要帮助？

如果遇到问题：
1. 查看浏览器/控制台错误信息
2. 检查后端服务是否正常运行
3. 查看项目 README.md 文档
4. 检查网络连接和 API 配置

